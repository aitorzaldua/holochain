{"version":3,"file":"bundle.js","sources":["../../../node_modules/svelte/internal/index.mjs","../../src/App.svelte","../../../node_modules/@holochain/conductor-api/lib.es/api/admin.js","../../../node_modules/isomorphic-ws/browser.js","../../../node_modules/@holochain/conductor-api/node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs","../../../node_modules/@holochain/conductor-api/node_modules/@msgpack/msgpack/dist.es5+esm/ExtData.mjs","../../../node_modules/@holochain/conductor-api/node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs","../../../node_modules/@holochain/conductor-api/node_modules/@msgpack/msgpack/dist.es5+esm/timestamp.mjs","../../../node_modules/@holochain/conductor-api/node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs","../../../node_modules/@holochain/conductor-api/node_modules/@msgpack/msgpack/dist.es5+esm/utils/typedArrays.mjs","../../../node_modules/@holochain/conductor-api/node_modules/@msgpack/msgpack/dist.es5+esm/Encoder.mjs","../../../node_modules/@holochain/conductor-api/node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs","../../../node_modules/@holochain/conductor-api/node_modules/@msgpack/msgpack/dist.es5+esm/utils/prettyByte.mjs","../../../node_modules/@holochain/conductor-api/node_modules/@msgpack/msgpack/dist.es5+esm/CachedKeyDecoder.mjs","../../../node_modules/@holochain/conductor-api/node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs","../../../node_modules/@holochain/conductor-api/node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs","../../../node_modules/@holochain/conductor-api/lib.es/websocket/client.js","../../../node_modules/@holochain/conductor-api/lib.es/websocket/common.js","../../../node_modules/@holochain/conductor-api/lib.es/api/common.js","../../../node_modules/cross-fetch/dist/browser-ponyfill.js","../../../node_modules/@holochain/conductor-api/lib.es/environments/launcher.js","../../../node_modules/@holochain/conductor-api/lib.es/websocket/app.js","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration();\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor() {\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes) {\n        super();\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = append_empty_stylesheet(node).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.43.1' }, detail), true));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","<script>\n\texport let name;\n\n\texport let appWebsocket;\n\texport let cell_id;\n\n\tlet postHash;\n\n\t$: postHash;\n\n\t appWebsocket.callZome({\n\t\tcap: null,\n\t\tcell_id: cell_id,\n\t\tzome_name: 'session3',\n\t\tfn_name: 'create_post',\n\t\tpayload: 'my post',\n\t\tprovenance: cell_id[1],\n\t}).then(hash => postHash = hash);\n\n</script>\n\n<main>\n\t<h1>Hello {name}!</h1>\n\t<p>Visit the <a href=\"https://svelte.dev/tutorial\">Svelte tutorial</a> to learn how to build Svelte apps.</p>\n\n\t{#if postHash}\n\t\t<span>Created new Holochain entry! Post with hash {postHash}</span>\n\t{:else}\n\t\t<span>Creating...</span>\n\t{/if}\n</main>\n\n<style>\n\tmain {\n\t\ttext-align: center;\n\t\tpadding: 1em;\n\t\tmax-width: 240px;\n\t\tmargin: 0 auto;\n\t}\n\n\th1 {\n\t\tcolor: #ff3e00;\n\t\ttext-transform: uppercase;\n\t\tfont-size: 4em;\n\t\tfont-weight: 100;\n\t}\n\n\t@media (min-width: 640px) {\n\t\tmain {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n</style>","export var AppStatusFilter;\n(function (AppStatusFilter) {\n    AppStatusFilter[\"Enabled\"] = \"enabled\";\n    AppStatusFilter[\"Disabled\"] = \"disabled\";\n    AppStatusFilter[\"Running\"] = \"running\";\n    AppStatusFilter[\"Stopped\"] = \"stopped\";\n    AppStatusFilter[\"Paused\"] = \"paused\";\n})(AppStatusFilter || (AppStatusFilter = {}));\n//# sourceMappingURL=admin.js.map","// https://github.com/maxogden/websocket-stream/blob/48dc3ddf943e5ada668c31ccd94e9186f02fafbd/ws-fallback.js\n\nvar ws = null\n\nif (typeof WebSocket !== 'undefined') {\n  ws = WebSocket\n} else if (typeof MozWebSocket !== 'undefined') {\n  ws = MozWebSocket\n} else if (typeof global !== 'undefined') {\n  ws = global.WebSocket || global.MozWebSocket\n} else if (typeof window !== 'undefined') {\n  ws = window.WebSocket || window.MozWebSocket\n} else if (typeof self !== 'undefined') {\n  ws = self.WebSocket || self.MozWebSocket\n}\n\nmodule.exports = ws\n","var TEXT_ENCODING_AVAILABLE = typeof process !== \"undefined\" &&\n    process.env.TEXT_ENCODING !== \"never\" &&\n    typeof TextEncoder !== \"undefined\" &&\n    typeof TextDecoder !== \"undefined\";\nvar STR_SIZE_MAX = 4294967295; // uint32_max\nexport function utf8Count(str) {\n    var strLength = str.length;\n    var byteLength = 0;\n    var pos = 0;\n    while (pos < strLength) {\n        var value = str.charCodeAt(pos++);\n        if ((value & 0xffffff80) === 0) {\n            // 1-byte\n            byteLength++;\n            continue;\n        }\n        else if ((value & 0xfffff800) === 0) {\n            // 2-bytes\n            byteLength += 2;\n        }\n        else {\n            // handle surrogate pair\n            if (value >= 0xd800 && value <= 0xdbff) {\n                // high surrogate\n                if (pos < strLength) {\n                    var extra = str.charCodeAt(pos);\n                    if ((extra & 0xfc00) === 0xdc00) {\n                        ++pos;\n                        value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n                    }\n                }\n            }\n            if ((value & 0xffff0000) === 0) {\n                // 3-byte\n                byteLength += 3;\n            }\n            else {\n                // 4-byte\n                byteLength += 4;\n            }\n        }\n    }\n    return byteLength;\n}\nexport function utf8EncodeJs(str, output, outputOffset) {\n    var strLength = str.length;\n    var offset = outputOffset;\n    var pos = 0;\n    while (pos < strLength) {\n        var value = str.charCodeAt(pos++);\n        if ((value & 0xffffff80) === 0) {\n            // 1-byte\n            output[offset++] = value;\n            continue;\n        }\n        else if ((value & 0xfffff800) === 0) {\n            // 2-bytes\n            output[offset++] = ((value >> 6) & 0x1f) | 0xc0;\n        }\n        else {\n            // handle surrogate pair\n            if (value >= 0xd800 && value <= 0xdbff) {\n                // high surrogate\n                if (pos < strLength) {\n                    var extra = str.charCodeAt(pos);\n                    if ((extra & 0xfc00) === 0xdc00) {\n                        ++pos;\n                        value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n                    }\n                }\n            }\n            if ((value & 0xffff0000) === 0) {\n                // 3-byte\n                output[offset++] = ((value >> 12) & 0x0f) | 0xe0;\n                output[offset++] = ((value >> 6) & 0x3f) | 0x80;\n            }\n            else {\n                // 4-byte\n                output[offset++] = ((value >> 18) & 0x07) | 0xf0;\n                output[offset++] = ((value >> 12) & 0x3f) | 0x80;\n                output[offset++] = ((value >> 6) & 0x3f) | 0x80;\n            }\n        }\n        output[offset++] = (value & 0x3f) | 0x80;\n    }\n}\nvar sharedTextEncoder = TEXT_ENCODING_AVAILABLE ? new TextEncoder() : undefined;\nexport var TEXT_ENCODER_THRESHOLD = !TEXT_ENCODING_AVAILABLE\n    ? STR_SIZE_MAX\n    : typeof process !== \"undefined\" && process.env.TEXT_ENCODING !== \"force\"\n        ? 200\n        : 0;\nfunction utf8EncodeTEencode(str, output, outputOffset) {\n    output.set(sharedTextEncoder.encode(str), outputOffset);\n}\nfunction utf8EncodeTEencodeInto(str, output, outputOffset) {\n    sharedTextEncoder.encodeInto(str, output.subarray(outputOffset));\n}\nexport var utf8EncodeTE = (sharedTextEncoder === null || sharedTextEncoder === void 0 ? void 0 : sharedTextEncoder.encodeInto) ? utf8EncodeTEencodeInto : utf8EncodeTEencode;\nvar CHUNK_SIZE = 4096;\nexport function utf8DecodeJs(bytes, inputOffset, byteLength) {\n    var offset = inputOffset;\n    var end = offset + byteLength;\n    var units = [];\n    var result = \"\";\n    while (offset < end) {\n        var byte1 = bytes[offset++];\n        if ((byte1 & 0x80) === 0) {\n            // 1 byte\n            units.push(byte1);\n        }\n        else if ((byte1 & 0xe0) === 0xc0) {\n            // 2 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            units.push(((byte1 & 0x1f) << 6) | byte2);\n        }\n        else if ((byte1 & 0xf0) === 0xe0) {\n            // 3 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            var byte3 = bytes[offset++] & 0x3f;\n            units.push(((byte1 & 0x1f) << 12) | (byte2 << 6) | byte3);\n        }\n        else if ((byte1 & 0xf8) === 0xf0) {\n            // 4 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            var byte3 = bytes[offset++] & 0x3f;\n            var byte4 = bytes[offset++] & 0x3f;\n            var unit = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0c) | (byte3 << 0x06) | byte4;\n            if (unit > 0xffff) {\n                unit -= 0x10000;\n                units.push(((unit >>> 10) & 0x3ff) | 0xd800);\n                unit = 0xdc00 | (unit & 0x3ff);\n            }\n            units.push(unit);\n        }\n        else {\n            units.push(byte1);\n        }\n        if (units.length >= CHUNK_SIZE) {\n            result += String.fromCharCode.apply(String, units);\n            units.length = 0;\n        }\n    }\n    if (units.length > 0) {\n        result += String.fromCharCode.apply(String, units);\n    }\n    return result;\n}\nvar sharedTextDecoder = TEXT_ENCODING_AVAILABLE ? new TextDecoder() : null;\nexport var TEXT_DECODER_THRESHOLD = !TEXT_ENCODING_AVAILABLE\n    ? STR_SIZE_MAX\n    : typeof process !== \"undefined\" && process.env.TEXT_DECODER !== \"force\"\n        ? 200\n        : 0;\nexport function utf8DecodeTD(bytes, inputOffset, byteLength) {\n    var stringBytes = bytes.subarray(inputOffset, inputOffset + byteLength);\n    return sharedTextDecoder.decode(stringBytes);\n}\n//# sourceMappingURL=utf8.mjs.map","/**\n * ExtData is used to handle Extension Types that are not registered to ExtensionCodec.\n */\nvar ExtData = /** @class */ (function () {\n    function ExtData(type, data) {\n        this.type = type;\n        this.data = data;\n    }\n    return ExtData;\n}());\nexport { ExtData };\n//# sourceMappingURL=ExtData.mjs.map","// DataView extension to handle int64 / uint64,\n// where the actual range is 53-bits integer (a.k.a. safe integer)\nexport function setUint64(view, offset, value) {\n    var high = value / 4294967296;\n    var low = value; // high bits are truncated by DataView\n    view.setUint32(offset, high);\n    view.setUint32(offset + 4, low);\n}\nexport function setInt64(view, offset, value) {\n    var high = Math.floor(value / 4294967296);\n    var low = value; // high bits are truncated by DataView\n    view.setUint32(offset, high);\n    view.setUint32(offset + 4, low);\n}\nexport function getInt64(view, offset) {\n    var high = view.getInt32(offset);\n    var low = view.getUint32(offset + 4);\n    return high * 4294967296 + low;\n}\nexport function getUint64(view, offset) {\n    var high = view.getUint32(offset);\n    var low = view.getUint32(offset + 4);\n    return high * 4294967296 + low;\n}\n//# sourceMappingURL=int.mjs.map","// https://github.com/msgpack/msgpack/blob/master/spec.md#timestamp-extension-type\nimport { getInt64, setInt64 } from \"./utils/int.mjs\";\nexport var EXT_TIMESTAMP = -1;\nvar TIMESTAMP32_MAX_SEC = 0x100000000 - 1; // 32-bit unsigned int\nvar TIMESTAMP64_MAX_SEC = 0x400000000 - 1; // 34-bit unsigned int\nexport function encodeTimeSpecToTimestamp(_a) {\n    var sec = _a.sec, nsec = _a.nsec;\n    if (sec >= 0 && nsec >= 0 && sec <= TIMESTAMP64_MAX_SEC) {\n        // Here sec >= 0 && nsec >= 0\n        if (nsec === 0 && sec <= TIMESTAMP32_MAX_SEC) {\n            // timestamp 32 = { sec32 (unsigned) }\n            var rv = new Uint8Array(4);\n            var view = new DataView(rv.buffer);\n            view.setUint32(0, sec);\n            return rv;\n        }\n        else {\n            // timestamp 64 = { nsec30 (unsigned), sec34 (unsigned) }\n            var secHigh = sec / 0x100000000;\n            var secLow = sec & 0xffffffff;\n            var rv = new Uint8Array(8);\n            var view = new DataView(rv.buffer);\n            // nsec30 | secHigh2\n            view.setUint32(0, (nsec << 2) | (secHigh & 0x3));\n            // secLow32\n            view.setUint32(4, secLow);\n            return rv;\n        }\n    }\n    else {\n        // timestamp 96 = { nsec32 (unsigned), sec64 (signed) }\n        var rv = new Uint8Array(12);\n        var view = new DataView(rv.buffer);\n        view.setUint32(0, nsec);\n        setInt64(view, 4, sec);\n        return rv;\n    }\n}\nexport function encodeDateToTimeSpec(date) {\n    var msec = date.getTime();\n    var sec = Math.floor(msec / 1e3);\n    var nsec = (msec - sec * 1e3) * 1e6;\n    // Normalizes { sec, nsec } to ensure nsec is unsigned.\n    var nsecInSec = Math.floor(nsec / 1e9);\n    return {\n        sec: sec + nsecInSec,\n        nsec: nsec - nsecInSec * 1e9,\n    };\n}\nexport function encodeTimestampExtension(object) {\n    if (object instanceof Date) {\n        var timeSpec = encodeDateToTimeSpec(object);\n        return encodeTimeSpecToTimestamp(timeSpec);\n    }\n    else {\n        return null;\n    }\n}\nexport function decodeTimestampToTimeSpec(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    // data may be 32, 64, or 96 bits\n    switch (data.byteLength) {\n        case 4: {\n            // timestamp 32 = { sec32 }\n            var sec = view.getUint32(0);\n            var nsec = 0;\n            return { sec: sec, nsec: nsec };\n        }\n        case 8: {\n            // timestamp 64 = { nsec30, sec34 }\n            var nsec30AndSecHigh2 = view.getUint32(0);\n            var secLow32 = view.getUint32(4);\n            var sec = (nsec30AndSecHigh2 & 0x3) * 0x100000000 + secLow32;\n            var nsec = nsec30AndSecHigh2 >>> 2;\n            return { sec: sec, nsec: nsec };\n        }\n        case 12: {\n            // timestamp 96 = { nsec32 (unsigned), sec64 (signed) }\n            var sec = getInt64(view, 4);\n            var nsec = view.getUint32(0);\n            return { sec: sec, nsec: nsec };\n        }\n        default:\n            throw new Error(\"Unrecognized data size for timestamp: \" + data.length);\n    }\n}\nexport function decodeTimestampExtension(data) {\n    var timeSpec = decodeTimestampToTimeSpec(data);\n    return new Date(timeSpec.sec * 1e3 + timeSpec.nsec / 1e6);\n}\nexport var timestampExtension = {\n    type: EXT_TIMESTAMP,\n    encode: encodeTimestampExtension,\n    decode: decodeTimestampExtension,\n};\n//# sourceMappingURL=timestamp.mjs.map","// ExtensionCodec to handle MessagePack extensions\nimport { ExtData } from \"./ExtData.mjs\";\nimport { timestampExtension } from \"./timestamp.mjs\";\nvar ExtensionCodec = /** @class */ (function () {\n    function ExtensionCodec() {\n        // built-in extensions\n        this.builtInEncoders = [];\n        this.builtInDecoders = [];\n        // custom extensions\n        this.encoders = [];\n        this.decoders = [];\n        this.register(timestampExtension);\n    }\n    ExtensionCodec.prototype.register = function (_a) {\n        var type = _a.type, encode = _a.encode, decode = _a.decode;\n        if (type >= 0) {\n            // custom extensions\n            this.encoders[type] = encode;\n            this.decoders[type] = decode;\n        }\n        else {\n            // built-in extensions\n            var index = 1 + type;\n            this.builtInEncoders[index] = encode;\n            this.builtInDecoders[index] = decode;\n        }\n    };\n    ExtensionCodec.prototype.tryToEncode = function (object, context) {\n        // built-in extensions\n        for (var i = 0; i < this.builtInEncoders.length; i++) {\n            var encodeExt = this.builtInEncoders[i];\n            if (encodeExt != null) {\n                var data = encodeExt(object, context);\n                if (data != null) {\n                    var type = -1 - i;\n                    return new ExtData(type, data);\n                }\n            }\n        }\n        // custom extensions\n        for (var i = 0; i < this.encoders.length; i++) {\n            var encodeExt = this.encoders[i];\n            if (encodeExt != null) {\n                var data = encodeExt(object, context);\n                if (data != null) {\n                    var type = i;\n                    return new ExtData(type, data);\n                }\n            }\n        }\n        if (object instanceof ExtData) {\n            // to keep ExtData as is\n            return object;\n        }\n        return null;\n    };\n    ExtensionCodec.prototype.decode = function (data, type, context) {\n        var decodeExt = type < 0 ? this.builtInDecoders[-1 - type] : this.decoders[type];\n        if (decodeExt) {\n            return decodeExt(data, type, context);\n        }\n        else {\n            // decode() does not fail, returns ExtData instead.\n            return new ExtData(type, data);\n        }\n    };\n    ExtensionCodec.defaultCodec = new ExtensionCodec();\n    return ExtensionCodec;\n}());\nexport { ExtensionCodec };\n//# sourceMappingURL=ExtensionCodec.mjs.map","export function ensureUint8Array(buffer) {\n    if (buffer instanceof Uint8Array) {\n        return buffer;\n    }\n    else if (ArrayBuffer.isView(buffer)) {\n        return new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n    }\n    else if (buffer instanceof ArrayBuffer) {\n        return new Uint8Array(buffer);\n    }\n    else {\n        // ArrayLike<number>\n        return Uint8Array.from(buffer);\n    }\n}\nexport function createDataView(buffer) {\n    if (buffer instanceof ArrayBuffer) {\n        return new DataView(buffer);\n    }\n    var bufferView = ensureUint8Array(buffer);\n    return new DataView(bufferView.buffer, bufferView.byteOffset, bufferView.byteLength);\n}\n//# sourceMappingURL=typedArrays.mjs.map","import { utf8EncodeJs, utf8Count, TEXT_ENCODER_THRESHOLD, utf8EncodeTE } from \"./utils/utf8.mjs\";\nimport { ExtensionCodec } from \"./ExtensionCodec.mjs\";\nimport { setInt64, setUint64 } from \"./utils/int.mjs\";\nimport { ensureUint8Array } from \"./utils/typedArrays.mjs\";\nexport var DEFAULT_MAX_DEPTH = 100;\nexport var DEFAULT_INITIAL_BUFFER_SIZE = 2048;\nvar Encoder = /** @class */ (function () {\n    function Encoder(extensionCodec, context, maxDepth, initialBufferSize, sortKeys, forceFloat32, ignoreUndefined, forceIntegerToFloat) {\n        if (extensionCodec === void 0) { extensionCodec = ExtensionCodec.defaultCodec; }\n        if (context === void 0) { context = undefined; }\n        if (maxDepth === void 0) { maxDepth = DEFAULT_MAX_DEPTH; }\n        if (initialBufferSize === void 0) { initialBufferSize = DEFAULT_INITIAL_BUFFER_SIZE; }\n        if (sortKeys === void 0) { sortKeys = false; }\n        if (forceFloat32 === void 0) { forceFloat32 = false; }\n        if (ignoreUndefined === void 0) { ignoreUndefined = false; }\n        if (forceIntegerToFloat === void 0) { forceIntegerToFloat = false; }\n        this.extensionCodec = extensionCodec;\n        this.context = context;\n        this.maxDepth = maxDepth;\n        this.initialBufferSize = initialBufferSize;\n        this.sortKeys = sortKeys;\n        this.forceFloat32 = forceFloat32;\n        this.ignoreUndefined = ignoreUndefined;\n        this.forceIntegerToFloat = forceIntegerToFloat;\n        this.pos = 0;\n        this.view = new DataView(new ArrayBuffer(this.initialBufferSize));\n        this.bytes = new Uint8Array(this.view.buffer);\n    }\n    Encoder.prototype.getUint8Array = function () {\n        return this.bytes.subarray(0, this.pos);\n    };\n    Encoder.prototype.reinitializeState = function () {\n        this.pos = 0;\n    };\n    Encoder.prototype.encode = function (object) {\n        this.reinitializeState();\n        this.doEncode(object, 1);\n        return this.getUint8Array();\n    };\n    Encoder.prototype.doEncode = function (object, depth) {\n        if (depth > this.maxDepth) {\n            throw new Error(\"Too deep objects in depth \" + depth);\n        }\n        if (object == null) {\n            this.encodeNil();\n        }\n        else if (typeof object === \"boolean\") {\n            this.encodeBoolean(object);\n        }\n        else if (typeof object === \"number\") {\n            this.encodeNumber(object);\n        }\n        else if (typeof object === \"string\") {\n            this.encodeString(object);\n        }\n        else {\n            this.encodeObject(object, depth);\n        }\n    };\n    Encoder.prototype.ensureBufferSizeToWrite = function (sizeToWrite) {\n        var requiredSize = this.pos + sizeToWrite;\n        if (this.view.byteLength < requiredSize) {\n            this.resizeBuffer(requiredSize * 2);\n        }\n    };\n    Encoder.prototype.resizeBuffer = function (newSize) {\n        var newBuffer = new ArrayBuffer(newSize);\n        var newBytes = new Uint8Array(newBuffer);\n        var newView = new DataView(newBuffer);\n        newBytes.set(this.bytes);\n        this.view = newView;\n        this.bytes = newBytes;\n    };\n    Encoder.prototype.encodeNil = function () {\n        this.writeU8(0xc0);\n    };\n    Encoder.prototype.encodeBoolean = function (object) {\n        if (object === false) {\n            this.writeU8(0xc2);\n        }\n        else {\n            this.writeU8(0xc3);\n        }\n    };\n    Encoder.prototype.encodeNumber = function (object) {\n        if (Number.isSafeInteger(object) && !this.forceIntegerToFloat) {\n            if (object >= 0) {\n                if (object < 0x80) {\n                    // positive fixint\n                    this.writeU8(object);\n                }\n                else if (object < 0x100) {\n                    // uint 8\n                    this.writeU8(0xcc);\n                    this.writeU8(object);\n                }\n                else if (object < 0x10000) {\n                    // uint 16\n                    this.writeU8(0xcd);\n                    this.writeU16(object);\n                }\n                else if (object < 0x100000000) {\n                    // uint 32\n                    this.writeU8(0xce);\n                    this.writeU32(object);\n                }\n                else {\n                    // uint 64\n                    this.writeU8(0xcf);\n                    this.writeU64(object);\n                }\n            }\n            else {\n                if (object >= -0x20) {\n                    // nagative fixint\n                    this.writeU8(0xe0 | (object + 0x20));\n                }\n                else if (object >= -0x80) {\n                    // int 8\n                    this.writeU8(0xd0);\n                    this.writeI8(object);\n                }\n                else if (object >= -0x8000) {\n                    // int 16\n                    this.writeU8(0xd1);\n                    this.writeI16(object);\n                }\n                else if (object >= -0x80000000) {\n                    // int 32\n                    this.writeU8(0xd2);\n                    this.writeI32(object);\n                }\n                else {\n                    // int 64\n                    this.writeU8(0xd3);\n                    this.writeI64(object);\n                }\n            }\n        }\n        else {\n            // non-integer numbers\n            if (this.forceFloat32) {\n                // float 32\n                this.writeU8(0xca);\n                this.writeF32(object);\n            }\n            else {\n                // float 64\n                this.writeU8(0xcb);\n                this.writeF64(object);\n            }\n        }\n    };\n    Encoder.prototype.writeStringHeader = function (byteLength) {\n        if (byteLength < 32) {\n            // fixstr\n            this.writeU8(0xa0 + byteLength);\n        }\n        else if (byteLength < 0x100) {\n            // str 8\n            this.writeU8(0xd9);\n            this.writeU8(byteLength);\n        }\n        else if (byteLength < 0x10000) {\n            // str 16\n            this.writeU8(0xda);\n            this.writeU16(byteLength);\n        }\n        else if (byteLength < 0x100000000) {\n            // str 32\n            this.writeU8(0xdb);\n            this.writeU32(byteLength);\n        }\n        else {\n            throw new Error(\"Too long string: \" + byteLength + \" bytes in UTF-8\");\n        }\n    };\n    Encoder.prototype.encodeString = function (object) {\n        var maxHeaderSize = 1 + 4;\n        var strLength = object.length;\n        if (strLength > TEXT_ENCODER_THRESHOLD) {\n            var byteLength = utf8Count(object);\n            this.ensureBufferSizeToWrite(maxHeaderSize + byteLength);\n            this.writeStringHeader(byteLength);\n            utf8EncodeTE(object, this.bytes, this.pos);\n            this.pos += byteLength;\n        }\n        else {\n            var byteLength = utf8Count(object);\n            this.ensureBufferSizeToWrite(maxHeaderSize + byteLength);\n            this.writeStringHeader(byteLength);\n            utf8EncodeJs(object, this.bytes, this.pos);\n            this.pos += byteLength;\n        }\n    };\n    Encoder.prototype.encodeObject = function (object, depth) {\n        // try to encode objects with custom codec first of non-primitives\n        var ext = this.extensionCodec.tryToEncode(object, this.context);\n        if (ext != null) {\n            this.encodeExtension(ext);\n        }\n        else if (Array.isArray(object)) {\n            this.encodeArray(object, depth);\n        }\n        else if (ArrayBuffer.isView(object)) {\n            this.encodeBinary(object);\n        }\n        else if (typeof object === \"object\") {\n            this.encodeMap(object, depth);\n        }\n        else {\n            // symbol, function and other special object come here unless extensionCodec handles them.\n            throw new Error(\"Unrecognized object: \" + Object.prototype.toString.apply(object));\n        }\n    };\n    Encoder.prototype.encodeBinary = function (object) {\n        var size = object.byteLength;\n        if (size < 0x100) {\n            // bin 8\n            this.writeU8(0xc4);\n            this.writeU8(size);\n        }\n        else if (size < 0x10000) {\n            // bin 16\n            this.writeU8(0xc5);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // bin 32\n            this.writeU8(0xc6);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large binary: \" + size);\n        }\n        var bytes = ensureUint8Array(object);\n        this.writeU8a(bytes);\n    };\n    Encoder.prototype.encodeArray = function (object, depth) {\n        var size = object.length;\n        if (size < 16) {\n            // fixarray\n            this.writeU8(0x90 + size);\n        }\n        else if (size < 0x10000) {\n            // array 16\n            this.writeU8(0xdc);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // array 32\n            this.writeU8(0xdd);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large array: \" + size);\n        }\n        for (var _i = 0, object_1 = object; _i < object_1.length; _i++) {\n            var item = object_1[_i];\n            this.doEncode(item, depth + 1);\n        }\n    };\n    Encoder.prototype.countWithoutUndefined = function (object, keys) {\n        var count = 0;\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (object[key] !== undefined) {\n                count++;\n            }\n        }\n        return count;\n    };\n    Encoder.prototype.encodeMap = function (object, depth) {\n        var keys = Object.keys(object);\n        if (this.sortKeys) {\n            keys.sort();\n        }\n        var size = this.ignoreUndefined ? this.countWithoutUndefined(object, keys) : keys.length;\n        if (size < 16) {\n            // fixmap\n            this.writeU8(0x80 + size);\n        }\n        else if (size < 0x10000) {\n            // map 16\n            this.writeU8(0xde);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // map 32\n            this.writeU8(0xdf);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large map object: \" + size);\n        }\n        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n            var key = keys_2[_i];\n            var value = object[key];\n            if (!(this.ignoreUndefined && value === undefined)) {\n                this.encodeString(key);\n                this.doEncode(value, depth + 1);\n            }\n        }\n    };\n    Encoder.prototype.encodeExtension = function (ext) {\n        var size = ext.data.length;\n        if (size === 1) {\n            // fixext 1\n            this.writeU8(0xd4);\n        }\n        else if (size === 2) {\n            // fixext 2\n            this.writeU8(0xd5);\n        }\n        else if (size === 4) {\n            // fixext 4\n            this.writeU8(0xd6);\n        }\n        else if (size === 8) {\n            // fixext 8\n            this.writeU8(0xd7);\n        }\n        else if (size === 16) {\n            // fixext 16\n            this.writeU8(0xd8);\n        }\n        else if (size < 0x100) {\n            // ext 8\n            this.writeU8(0xc7);\n            this.writeU8(size);\n        }\n        else if (size < 0x10000) {\n            // ext 16\n            this.writeU8(0xc8);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // ext 32\n            this.writeU8(0xc9);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large extension object: \" + size);\n        }\n        this.writeI8(ext.type);\n        this.writeU8a(ext.data);\n    };\n    Encoder.prototype.writeU8 = function (value) {\n        this.ensureBufferSizeToWrite(1);\n        this.view.setUint8(this.pos, value);\n        this.pos++;\n    };\n    Encoder.prototype.writeU8a = function (values) {\n        var size = values.length;\n        this.ensureBufferSizeToWrite(size);\n        this.bytes.set(values, this.pos);\n        this.pos += size;\n    };\n    Encoder.prototype.writeI8 = function (value) {\n        this.ensureBufferSizeToWrite(1);\n        this.view.setInt8(this.pos, value);\n        this.pos++;\n    };\n    Encoder.prototype.writeU16 = function (value) {\n        this.ensureBufferSizeToWrite(2);\n        this.view.setUint16(this.pos, value);\n        this.pos += 2;\n    };\n    Encoder.prototype.writeI16 = function (value) {\n        this.ensureBufferSizeToWrite(2);\n        this.view.setInt16(this.pos, value);\n        this.pos += 2;\n    };\n    Encoder.prototype.writeU32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setUint32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeI32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setInt32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeF32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setFloat32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeF64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        this.view.setFloat64(this.pos, value);\n        this.pos += 8;\n    };\n    Encoder.prototype.writeU64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        setUint64(this.view, this.pos, value);\n        this.pos += 8;\n    };\n    Encoder.prototype.writeI64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        setInt64(this.view, this.pos, value);\n        this.pos += 8;\n    };\n    return Encoder;\n}());\nexport { Encoder };\n//# sourceMappingURL=Encoder.mjs.map","import { Encoder } from \"./Encoder.mjs\";\nvar defaultEncodeOptions = {};\n/**\n * It encodes `value` in the MessagePack format and\n * returns a byte buffer.\n *\n * The returned buffer is a slice of a larger `ArrayBuffer`, so you have to use its `#byteOffset` and `#byteLength` in order to convert it to another typed arrays including NodeJS `Buffer`.\n */\nexport function encode(value, options) {\n    if (options === void 0) { options = defaultEncodeOptions; }\n    var encoder = new Encoder(options.extensionCodec, options.context, options.maxDepth, options.initialBufferSize, options.sortKeys, options.forceFloat32, options.ignoreUndefined, options.forceIntegerToFloat);\n    return encoder.encode(value);\n}\n//# sourceMappingURL=encode.mjs.map","export function prettyByte(byte) {\n    return (byte < 0 ? \"-\" : \"\") + \"0x\" + Math.abs(byte).toString(16).padStart(2, \"0\");\n}\n//# sourceMappingURL=prettyByte.mjs.map","import { utf8DecodeJs } from \"./utils/utf8.mjs\";\nvar DEFAULT_MAX_KEY_LENGTH = 16;\nvar DEFAULT_MAX_LENGTH_PER_KEY = 16;\nvar CachedKeyDecoder = /** @class */ (function () {\n    function CachedKeyDecoder(maxKeyLength, maxLengthPerKey) {\n        if (maxKeyLength === void 0) { maxKeyLength = DEFAULT_MAX_KEY_LENGTH; }\n        if (maxLengthPerKey === void 0) { maxLengthPerKey = DEFAULT_MAX_LENGTH_PER_KEY; }\n        this.maxKeyLength = maxKeyLength;\n        this.maxLengthPerKey = maxLengthPerKey;\n        this.hit = 0;\n        this.miss = 0;\n        // avoid `new Array(N)` to create a non-sparse array for performance.\n        this.caches = [];\n        for (var i = 0; i < this.maxKeyLength; i++) {\n            this.caches.push([]);\n        }\n    }\n    CachedKeyDecoder.prototype.canBeCached = function (byteLength) {\n        return byteLength > 0 && byteLength <= this.maxKeyLength;\n    };\n    CachedKeyDecoder.prototype.get = function (bytes, inputOffset, byteLength) {\n        var records = this.caches[byteLength - 1];\n        FIND_CHUNK: for (var _i = 0, records_1 = records; _i < records_1.length; _i++) {\n            var record = records_1[_i];\n            var recordBytes = record.bytes;\n            for (var j = 0; j < byteLength; j++) {\n                if (recordBytes[j] !== bytes[inputOffset + j]) {\n                    continue FIND_CHUNK;\n                }\n            }\n            return record.value;\n        }\n        return null;\n    };\n    CachedKeyDecoder.prototype.store = function (bytes, value) {\n        var records = this.caches[bytes.length - 1];\n        var record = { bytes: bytes, value: value };\n        if (records.length >= this.maxLengthPerKey) {\n            // `records` are full!\n            // Set `record` to a randomized position.\n            records[(Math.random() * records.length) | 0] = record;\n        }\n        else {\n            records.push(record);\n        }\n    };\n    CachedKeyDecoder.prototype.decode = function (bytes, inputOffset, byteLength) {\n        var cachedValue = this.get(bytes, inputOffset, byteLength);\n        if (cachedValue != null) {\n            this.hit++;\n            return cachedValue;\n        }\n        this.miss++;\n        var value = utf8DecodeJs(bytes, inputOffset, byteLength);\n        // Ensure to copy a slice of bytes because the byte may be NodeJS Buffer and Buffer#slice() returns a reference to its internal ArrayBuffer.\n        var slicedCopyOfBytes = Uint8Array.prototype.slice.call(bytes, inputOffset, inputOffset + byteLength);\n        this.store(slicedCopyOfBytes, value);\n        return value;\n    };\n    return CachedKeyDecoder;\n}());\nexport { CachedKeyDecoder };\n//# sourceMappingURL=CachedKeyDecoder.mjs.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport { prettyByte } from \"./utils/prettyByte.mjs\";\nimport { ExtensionCodec } from \"./ExtensionCodec.mjs\";\nimport { getInt64, getUint64 } from \"./utils/int.mjs\";\nimport { utf8DecodeJs, TEXT_DECODER_THRESHOLD, utf8DecodeTD } from \"./utils/utf8.mjs\";\nimport { createDataView, ensureUint8Array } from \"./utils/typedArrays.mjs\";\nimport { CachedKeyDecoder } from \"./CachedKeyDecoder.mjs\";\nvar isValidMapKeyType = function (key) {\n    var keyType = typeof key;\n    return keyType === \"string\" || keyType === \"number\";\n};\nvar HEAD_BYTE_REQUIRED = -1;\nvar EMPTY_VIEW = new DataView(new ArrayBuffer(0));\nvar EMPTY_BYTES = new Uint8Array(EMPTY_VIEW.buffer);\n// IE11: Hack to support IE11.\n// IE11: Drop this hack and just use RangeError when IE11 is obsolete.\nexport var DataViewIndexOutOfBoundsError = (function () {\n    try {\n        // IE11: The spec says it should throw RangeError,\n        // IE11: but in IE11 it throws TypeError.\n        EMPTY_VIEW.getInt8(0);\n    }\n    catch (e) {\n        return e.constructor;\n    }\n    throw new Error(\"never reached\");\n})();\nvar MORE_DATA = new DataViewIndexOutOfBoundsError(\"Insufficient data\");\nvar DEFAULT_MAX_LENGTH = 4294967295; // uint32_max\nvar sharedCachedKeyDecoder = new CachedKeyDecoder();\nvar Decoder = /** @class */ (function () {\n    function Decoder(extensionCodec, context, maxStrLength, maxBinLength, maxArrayLength, maxMapLength, maxExtLength, keyDecoder) {\n        if (extensionCodec === void 0) { extensionCodec = ExtensionCodec.defaultCodec; }\n        if (context === void 0) { context = undefined; }\n        if (maxStrLength === void 0) { maxStrLength = DEFAULT_MAX_LENGTH; }\n        if (maxBinLength === void 0) { maxBinLength = DEFAULT_MAX_LENGTH; }\n        if (maxArrayLength === void 0) { maxArrayLength = DEFAULT_MAX_LENGTH; }\n        if (maxMapLength === void 0) { maxMapLength = DEFAULT_MAX_LENGTH; }\n        if (maxExtLength === void 0) { maxExtLength = DEFAULT_MAX_LENGTH; }\n        if (keyDecoder === void 0) { keyDecoder = sharedCachedKeyDecoder; }\n        this.extensionCodec = extensionCodec;\n        this.context = context;\n        this.maxStrLength = maxStrLength;\n        this.maxBinLength = maxBinLength;\n        this.maxArrayLength = maxArrayLength;\n        this.maxMapLength = maxMapLength;\n        this.maxExtLength = maxExtLength;\n        this.keyDecoder = keyDecoder;\n        this.totalPos = 0;\n        this.pos = 0;\n        this.view = EMPTY_VIEW;\n        this.bytes = EMPTY_BYTES;\n        this.headByte = HEAD_BYTE_REQUIRED;\n        this.stack = [];\n    }\n    Decoder.prototype.reinitializeState = function () {\n        this.totalPos = 0;\n        this.headByte = HEAD_BYTE_REQUIRED;\n    };\n    Decoder.prototype.setBuffer = function (buffer) {\n        this.bytes = ensureUint8Array(buffer);\n        this.view = createDataView(this.bytes);\n        this.pos = 0;\n    };\n    Decoder.prototype.appendBuffer = function (buffer) {\n        if (this.headByte === HEAD_BYTE_REQUIRED && !this.hasRemaining()) {\n            this.setBuffer(buffer);\n        }\n        else {\n            // retried because data is insufficient\n            var remainingData = this.bytes.subarray(this.pos);\n            var newData = ensureUint8Array(buffer);\n            var concated = new Uint8Array(remainingData.length + newData.length);\n            concated.set(remainingData);\n            concated.set(newData, remainingData.length);\n            this.setBuffer(concated);\n        }\n    };\n    Decoder.prototype.hasRemaining = function (size) {\n        if (size === void 0) { size = 1; }\n        return this.view.byteLength - this.pos >= size;\n    };\n    Decoder.prototype.createExtraByteError = function (posToShow) {\n        var _a = this, view = _a.view, pos = _a.pos;\n        return new RangeError(\"Extra \" + (view.byteLength - pos) + \" of \" + view.byteLength + \" byte(s) found at buffer[\" + posToShow + \"]\");\n    };\n    Decoder.prototype.decode = function (buffer) {\n        this.reinitializeState();\n        this.setBuffer(buffer);\n        var object = this.doDecodeSync();\n        if (this.hasRemaining()) {\n            throw this.createExtraByteError(this.pos);\n        }\n        return object;\n    };\n    Decoder.prototype.decodeMulti = function (buffer) {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    this.reinitializeState();\n                    this.setBuffer(buffer);\n                    _a.label = 1;\n                case 1:\n                    if (!this.hasRemaining()) return [3 /*break*/, 3];\n                    return [4 /*yield*/, this.doDecodeSync()];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 1];\n                case 3: return [2 /*return*/];\n            }\n        });\n    };\n    Decoder.prototype.decodeAsync = function (stream) {\n        var stream_1, stream_1_1;\n        var e_1, _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var decoded, object, buffer, e_1_1, _b, headByte, pos, totalPos;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        decoded = false;\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 6, 7, 12]);\n                        stream_1 = __asyncValues(stream);\n                        _c.label = 2;\n                    case 2: return [4 /*yield*/, stream_1.next()];\n                    case 3:\n                        if (!(stream_1_1 = _c.sent(), !stream_1_1.done)) return [3 /*break*/, 5];\n                        buffer = stream_1_1.value;\n                        if (decoded) {\n                            throw this.createExtraByteError(this.totalPos);\n                        }\n                        this.appendBuffer(buffer);\n                        try {\n                            object = this.doDecodeSync();\n                            decoded = true;\n                        }\n                        catch (e) {\n                            if (!(e instanceof DataViewIndexOutOfBoundsError)) {\n                                throw e; // rethrow\n                            }\n                            // fallthrough\n                        }\n                        this.totalPos += this.pos;\n                        _c.label = 4;\n                    case 4: return [3 /*break*/, 2];\n                    case 5: return [3 /*break*/, 12];\n                    case 6:\n                        e_1_1 = _c.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 12];\n                    case 7:\n                        _c.trys.push([7, , 10, 11]);\n                        if (!(stream_1_1 && !stream_1_1.done && (_a = stream_1.return))) return [3 /*break*/, 9];\n                        return [4 /*yield*/, _a.call(stream_1)];\n                    case 8:\n                        _c.sent();\n                        _c.label = 9;\n                    case 9: return [3 /*break*/, 11];\n                    case 10:\n                        if (e_1) throw e_1.error;\n                        return [7 /*endfinally*/];\n                    case 11: return [7 /*endfinally*/];\n                    case 12:\n                        if (decoded) {\n                            if (this.hasRemaining()) {\n                                throw this.createExtraByteError(this.totalPos);\n                            }\n                            return [2 /*return*/, object];\n                        }\n                        _b = this, headByte = _b.headByte, pos = _b.pos, totalPos = _b.totalPos;\n                        throw new RangeError(\"Insufficient data in parsing \" + prettyByte(headByte) + \" at \" + totalPos + \" (\" + pos + \" in the current buffer)\");\n                }\n            });\n        });\n    };\n    Decoder.prototype.decodeArrayStream = function (stream) {\n        return this.decodeMultiAsync(stream, true);\n    };\n    Decoder.prototype.decodeStream = function (stream) {\n        return this.decodeMultiAsync(stream, false);\n    };\n    Decoder.prototype.decodeMultiAsync = function (stream, isArray) {\n        return __asyncGenerator(this, arguments, function decodeMultiAsync_1() {\n            var isArrayHeaderRequired, arrayItemsLeft, stream_2, stream_2_1, buffer, e_2, e_3_1;\n            var e_3, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        isArrayHeaderRequired = isArray;\n                        arrayItemsLeft = -1;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 13, 14, 19]);\n                        stream_2 = __asyncValues(stream);\n                        _b.label = 2;\n                    case 2: return [4 /*yield*/, __await(stream_2.next())];\n                    case 3:\n                        if (!(stream_2_1 = _b.sent(), !stream_2_1.done)) return [3 /*break*/, 12];\n                        buffer = stream_2_1.value;\n                        if (isArray && arrayItemsLeft === 0) {\n                            throw this.createExtraByteError(this.totalPos);\n                        }\n                        this.appendBuffer(buffer);\n                        if (isArrayHeaderRequired) {\n                            arrayItemsLeft = this.readArraySize();\n                            isArrayHeaderRequired = false;\n                            this.complete();\n                        }\n                        _b.label = 4;\n                    case 4:\n                        _b.trys.push([4, 9, , 10]);\n                        _b.label = 5;\n                    case 5:\n                        if (!true) return [3 /*break*/, 8];\n                        return [4 /*yield*/, __await(this.doDecodeSync())];\n                    case 6: return [4 /*yield*/, _b.sent()];\n                    case 7:\n                        _b.sent();\n                        if (--arrayItemsLeft === 0) {\n                            return [3 /*break*/, 8];\n                        }\n                        return [3 /*break*/, 5];\n                    case 8: return [3 /*break*/, 10];\n                    case 9:\n                        e_2 = _b.sent();\n                        if (!(e_2 instanceof DataViewIndexOutOfBoundsError)) {\n                            throw e_2; // rethrow\n                        }\n                        return [3 /*break*/, 10];\n                    case 10:\n                        this.totalPos += this.pos;\n                        _b.label = 11;\n                    case 11: return [3 /*break*/, 2];\n                    case 12: return [3 /*break*/, 19];\n                    case 13:\n                        e_3_1 = _b.sent();\n                        e_3 = { error: e_3_1 };\n                        return [3 /*break*/, 19];\n                    case 14:\n                        _b.trys.push([14, , 17, 18]);\n                        if (!(stream_2_1 && !stream_2_1.done && (_a = stream_2.return))) return [3 /*break*/, 16];\n                        return [4 /*yield*/, __await(_a.call(stream_2))];\n                    case 15:\n                        _b.sent();\n                        _b.label = 16;\n                    case 16: return [3 /*break*/, 18];\n                    case 17:\n                        if (e_3) throw e_3.error;\n                        return [7 /*endfinally*/];\n                    case 18: return [7 /*endfinally*/];\n                    case 19: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Decoder.prototype.doDecodeSync = function () {\n        DECODE: while (true) {\n            var headByte = this.readHeadByte();\n            var object = void 0;\n            if (headByte >= 0xe0) {\n                // negative fixint (111x xxxx) 0xe0 - 0xff\n                object = headByte - 0x100;\n            }\n            else if (headByte < 0xc0) {\n                if (headByte < 0x80) {\n                    // positive fixint (0xxx xxxx) 0x00 - 0x7f\n                    object = headByte;\n                }\n                else if (headByte < 0x90) {\n                    // fixmap (1000 xxxx) 0x80 - 0x8f\n                    var size = headByte - 0x80;\n                    if (size !== 0) {\n                        this.pushMapState(size);\n                        this.complete();\n                        continue DECODE;\n                    }\n                    else {\n                        object = {};\n                    }\n                }\n                else if (headByte < 0xa0) {\n                    // fixarray (1001 xxxx) 0x90 - 0x9f\n                    var size = headByte - 0x90;\n                    if (size !== 0) {\n                        this.pushArrayState(size);\n                        this.complete();\n                        continue DECODE;\n                    }\n                    else {\n                        object = [];\n                    }\n                }\n                else {\n                    // fixstr (101x xxxx) 0xa0 - 0xbf\n                    var byteLength = headByte - 0xa0;\n                    object = this.decodeUtf8String(byteLength, 0);\n                }\n            }\n            else if (headByte === 0xc0) {\n                // nil\n                object = null;\n            }\n            else if (headByte === 0xc2) {\n                // false\n                object = false;\n            }\n            else if (headByte === 0xc3) {\n                // true\n                object = true;\n            }\n            else if (headByte === 0xca) {\n                // float 32\n                object = this.readF32();\n            }\n            else if (headByte === 0xcb) {\n                // float 64\n                object = this.readF64();\n            }\n            else if (headByte === 0xcc) {\n                // uint 8\n                object = this.readU8();\n            }\n            else if (headByte === 0xcd) {\n                // uint 16\n                object = this.readU16();\n            }\n            else if (headByte === 0xce) {\n                // uint 32\n                object = this.readU32();\n            }\n            else if (headByte === 0xcf) {\n                // uint 64\n                object = this.readU64();\n            }\n            else if (headByte === 0xd0) {\n                // int 8\n                object = this.readI8();\n            }\n            else if (headByte === 0xd1) {\n                // int 16\n                object = this.readI16();\n            }\n            else if (headByte === 0xd2) {\n                // int 32\n                object = this.readI32();\n            }\n            else if (headByte === 0xd3) {\n                // int 64\n                object = this.readI64();\n            }\n            else if (headByte === 0xd9) {\n                // str 8\n                var byteLength = this.lookU8();\n                object = this.decodeUtf8String(byteLength, 1);\n            }\n            else if (headByte === 0xda) {\n                // str 16\n                var byteLength = this.lookU16();\n                object = this.decodeUtf8String(byteLength, 2);\n            }\n            else if (headByte === 0xdb) {\n                // str 32\n                var byteLength = this.lookU32();\n                object = this.decodeUtf8String(byteLength, 4);\n            }\n            else if (headByte === 0xdc) {\n                // array 16\n                var size = this.readU16();\n                if (size !== 0) {\n                    this.pushArrayState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = [];\n                }\n            }\n            else if (headByte === 0xdd) {\n                // array 32\n                var size = this.readU32();\n                if (size !== 0) {\n                    this.pushArrayState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = [];\n                }\n            }\n            else if (headByte === 0xde) {\n                // map 16\n                var size = this.readU16();\n                if (size !== 0) {\n                    this.pushMapState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = {};\n                }\n            }\n            else if (headByte === 0xdf) {\n                // map 32\n                var size = this.readU32();\n                if (size !== 0) {\n                    this.pushMapState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = {};\n                }\n            }\n            else if (headByte === 0xc4) {\n                // bin 8\n                var size = this.lookU8();\n                object = this.decodeBinary(size, 1);\n            }\n            else if (headByte === 0xc5) {\n                // bin 16\n                var size = this.lookU16();\n                object = this.decodeBinary(size, 2);\n            }\n            else if (headByte === 0xc6) {\n                // bin 32\n                var size = this.lookU32();\n                object = this.decodeBinary(size, 4);\n            }\n            else if (headByte === 0xd4) {\n                // fixext 1\n                object = this.decodeExtension(1, 0);\n            }\n            else if (headByte === 0xd5) {\n                // fixext 2\n                object = this.decodeExtension(2, 0);\n            }\n            else if (headByte === 0xd6) {\n                // fixext 4\n                object = this.decodeExtension(4, 0);\n            }\n            else if (headByte === 0xd7) {\n                // fixext 8\n                object = this.decodeExtension(8, 0);\n            }\n            else if (headByte === 0xd8) {\n                // fixext 16\n                object = this.decodeExtension(16, 0);\n            }\n            else if (headByte === 0xc7) {\n                // ext 8\n                var size = this.lookU8();\n                object = this.decodeExtension(size, 1);\n            }\n            else if (headByte === 0xc8) {\n                // ext 16\n                var size = this.lookU16();\n                object = this.decodeExtension(size, 2);\n            }\n            else if (headByte === 0xc9) {\n                // ext 32\n                var size = this.lookU32();\n                object = this.decodeExtension(size, 4);\n            }\n            else {\n                throw new Error(\"Unrecognized type byte: \" + prettyByte(headByte));\n            }\n            this.complete();\n            var stack = this.stack;\n            while (stack.length > 0) {\n                // arrays and maps\n                var state = stack[stack.length - 1];\n                if (state.type === 0 /* ARRAY */) {\n                    state.array[state.position] = object;\n                    state.position++;\n                    if (state.position === state.size) {\n                        stack.pop();\n                        object = state.array;\n                    }\n                    else {\n                        continue DECODE;\n                    }\n                }\n                else if (state.type === 1 /* MAP_KEY */) {\n                    if (!isValidMapKeyType(object)) {\n                        throw new Error(\"The type of key must be string or number but \" + typeof object);\n                    }\n                    state.key = object;\n                    state.type = 2 /* MAP_VALUE */;\n                    continue DECODE;\n                }\n                else {\n                    // it must be `state.type === State.MAP_VALUE` here\n                    state.map[state.key] = object;\n                    state.readCount++;\n                    if (state.readCount === state.size) {\n                        stack.pop();\n                        object = state.map;\n                    }\n                    else {\n                        state.key = null;\n                        state.type = 1 /* MAP_KEY */;\n                        continue DECODE;\n                    }\n                }\n            }\n            return object;\n        }\n    };\n    Decoder.prototype.readHeadByte = function () {\n        if (this.headByte === HEAD_BYTE_REQUIRED) {\n            this.headByte = this.readU8();\n            // console.log(\"headByte\", prettyByte(this.headByte));\n        }\n        return this.headByte;\n    };\n    Decoder.prototype.complete = function () {\n        this.headByte = HEAD_BYTE_REQUIRED;\n    };\n    Decoder.prototype.readArraySize = function () {\n        var headByte = this.readHeadByte();\n        switch (headByte) {\n            case 0xdc:\n                return this.readU16();\n            case 0xdd:\n                return this.readU32();\n            default: {\n                if (headByte < 0xa0) {\n                    return headByte - 0x90;\n                }\n                else {\n                    throw new Error(\"Unrecognized array type byte: \" + prettyByte(headByte));\n                }\n            }\n        }\n    };\n    Decoder.prototype.pushMapState = function (size) {\n        if (size > this.maxMapLength) {\n            throw new Error(\"Max length exceeded: map length (\" + size + \") > maxMapLengthLength (\" + this.maxMapLength + \")\");\n        }\n        this.stack.push({\n            type: 1 /* MAP_KEY */,\n            size: size,\n            key: null,\n            readCount: 0,\n            map: {},\n        });\n    };\n    Decoder.prototype.pushArrayState = function (size) {\n        if (size > this.maxArrayLength) {\n            throw new Error(\"Max length exceeded: array length (\" + size + \") > maxArrayLength (\" + this.maxArrayLength + \")\");\n        }\n        this.stack.push({\n            type: 0 /* ARRAY */,\n            size: size,\n            array: new Array(size),\n            position: 0,\n        });\n    };\n    Decoder.prototype.decodeUtf8String = function (byteLength, headerOffset) {\n        var _a;\n        if (byteLength > this.maxStrLength) {\n            throw new Error(\"Max length exceeded: UTF-8 byte length (\" + byteLength + \") > maxStrLength (\" + this.maxStrLength + \")\");\n        }\n        if (this.bytes.byteLength < this.pos + headerOffset + byteLength) {\n            throw MORE_DATA;\n        }\n        var offset = this.pos + headerOffset;\n        var object;\n        if (this.stateIsMapKey() && ((_a = this.keyDecoder) === null || _a === void 0 ? void 0 : _a.canBeCached(byteLength))) {\n            object = this.keyDecoder.decode(this.bytes, offset, byteLength);\n        }\n        else if (byteLength > TEXT_DECODER_THRESHOLD) {\n            object = utf8DecodeTD(this.bytes, offset, byteLength);\n        }\n        else {\n            object = utf8DecodeJs(this.bytes, offset, byteLength);\n        }\n        this.pos += headerOffset + byteLength;\n        return object;\n    };\n    Decoder.prototype.stateIsMapKey = function () {\n        if (this.stack.length > 0) {\n            var state = this.stack[this.stack.length - 1];\n            return state.type === 1 /* MAP_KEY */;\n        }\n        return false;\n    };\n    Decoder.prototype.decodeBinary = function (byteLength, headOffset) {\n        if (byteLength > this.maxBinLength) {\n            throw new Error(\"Max length exceeded: bin length (\" + byteLength + \") > maxBinLength (\" + this.maxBinLength + \")\");\n        }\n        if (!this.hasRemaining(byteLength + headOffset)) {\n            throw MORE_DATA;\n        }\n        var offset = this.pos + headOffset;\n        var object = this.bytes.subarray(offset, offset + byteLength);\n        this.pos += headOffset + byteLength;\n        return object;\n    };\n    Decoder.prototype.decodeExtension = function (size, headOffset) {\n        if (size > this.maxExtLength) {\n            throw new Error(\"Max length exceeded: ext length (\" + size + \") > maxExtLength (\" + this.maxExtLength + \")\");\n        }\n        var extType = this.view.getInt8(this.pos + headOffset);\n        var data = this.decodeBinary(size, headOffset + 1 /* extType */);\n        return this.extensionCodec.decode(data, extType, this.context);\n    };\n    Decoder.prototype.lookU8 = function () {\n        return this.view.getUint8(this.pos);\n    };\n    Decoder.prototype.lookU16 = function () {\n        return this.view.getUint16(this.pos);\n    };\n    Decoder.prototype.lookU32 = function () {\n        return this.view.getUint32(this.pos);\n    };\n    Decoder.prototype.readU8 = function () {\n        var value = this.view.getUint8(this.pos);\n        this.pos++;\n        return value;\n    };\n    Decoder.prototype.readI8 = function () {\n        var value = this.view.getInt8(this.pos);\n        this.pos++;\n        return value;\n    };\n    Decoder.prototype.readU16 = function () {\n        var value = this.view.getUint16(this.pos);\n        this.pos += 2;\n        return value;\n    };\n    Decoder.prototype.readI16 = function () {\n        var value = this.view.getInt16(this.pos);\n        this.pos += 2;\n        return value;\n    };\n    Decoder.prototype.readU32 = function () {\n        var value = this.view.getUint32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readI32 = function () {\n        var value = this.view.getInt32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readU64 = function () {\n        var value = getUint64(this.view, this.pos);\n        this.pos += 8;\n        return value;\n    };\n    Decoder.prototype.readI64 = function () {\n        var value = getInt64(this.view, this.pos);\n        this.pos += 8;\n        return value;\n    };\n    Decoder.prototype.readF32 = function () {\n        var value = this.view.getFloat32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readF64 = function () {\n        var value = this.view.getFloat64(this.pos);\n        this.pos += 8;\n        return value;\n    };\n    return Decoder;\n}());\nexport { Decoder };\n//# sourceMappingURL=Decoder.mjs.map","import { Decoder } from \"./Decoder.mjs\";\nexport var defaultDecodeOptions = {};\n/**\n * It decodes a single MessagePack object in a buffer.\n *\n * This is a synchronous decoding function.\n * See other variants for asynchronous decoding: {@link decodeAsync()}, {@link decodeStream()}, or {@link decodeArrayStream()}.\n */\nexport function decode(buffer, options) {\n    if (options === void 0) { options = defaultDecodeOptions; }\n    var decoder = new Decoder(options.extensionCodec, options.context, options.maxStrLength, options.maxBinLength, options.maxArrayLength, options.maxMapLength, options.maxExtLength);\n    return decoder.decode(buffer);\n}\n/**\n * It decodes multiple MessagePack objects in a buffer.\n * This is corresponding to {@link decodeMultiStream()}.\n */\nexport function decodeMulti(buffer, options) {\n    if (options === void 0) { options = defaultDecodeOptions; }\n    var decoder = new Decoder(options.extensionCodec, options.context, options.maxStrLength, options.maxBinLength, options.maxArrayLength, options.maxMapLength, options.maxExtLength);\n    return decoder.decodeMulti(buffer);\n}\n//# sourceMappingURL=decode.mjs.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Websocket from \"isomorphic-ws\";\nimport { encode, decode } from \"@msgpack/msgpack\";\n/**\n * A Websocket client which can make requests and receive responses,\n * as well as send and receive signals\n *\n * Uses Holochain's websocket WireMessage for communication.\n */\nexport class WsClient {\n    constructor(socket, signalCb) {\n        this.socket = socket;\n        this.pendingRequests = {};\n        this.index = 0;\n        // TODO: allow adding signal handlers later\n        this.alreadyWarnedNoSignalCb = false;\n        socket.onmessage = (encodedMsg) => __awaiter(this, void 0, void 0, function* () {\n            let data = encodedMsg.data;\n            // If data is not a buffer (nodejs), it will be a blob (browser)\n            if (typeof Buffer === \"undefined\" || !Buffer.isBuffer(data)) {\n                data = yield data.arrayBuffer();\n            }\n            const msg = decode(data);\n            if (msg.type === \"Signal\") {\n                if (signalCb) {\n                    const decodedMessage = decode(msg.data);\n                    // Note: holochain currently returns signals as an array of two values: cellId and the serialized signal payload\n                    // and this array is nested within the App key within the returned message.\n                    const decodedCellId = decodedMessage.App[0];\n                    // Note:In order to return readible content to the UI, the signal payload must also be decoded.\n                    const decodedPayload = signalTransform(decodedMessage.App[1]);\n                    // Return a uniform format to UI (ie: { type, data } - the same format as with callZome and appInfo...)\n                    const signal = {\n                        type: msg.type,\n                        data: { cellId: decodedCellId, payload: decodedPayload },\n                    };\n                    signalCb(signal);\n                }\n                else {\n                    if (!this.alreadyWarnedNoSignalCb)\n                        console.log(`Received signal but no signal callback was set in constructor`);\n                    this.alreadyWarnedNoSignalCb = true;\n                }\n            }\n            else if (msg.type === \"Response\") {\n                this.handleResponse(msg);\n            }\n            else {\n                console.error(`Got unrecognized Websocket message type: ${msg.type}`);\n            }\n        });\n    }\n    emitSignal(data) {\n        const encodedMsg = encode({\n            type: \"Signal\",\n            data: encode(data),\n        });\n        this.socket.send(encodedMsg);\n    }\n    request(data) {\n        let id = this.index;\n        this.index += 1;\n        const encodedMsg = encode({\n            id,\n            type: \"Request\",\n            data: encode(data),\n        });\n        const promise = new Promise((fulfill, reject) => {\n            this.pendingRequests[id] = { fulfill, reject };\n        });\n        if (this.socket.readyState === this.socket.OPEN) {\n            this.socket.send(encodedMsg);\n        }\n        else {\n            return Promise.reject(new Error(`Socket is not open`));\n        }\n        return promise;\n    }\n    handleResponse(msg) {\n        const id = msg.id;\n        if (this.pendingRequests[id]) {\n            // resolve response\n            if (msg.data === null || msg.data === undefined) {\n                this.pendingRequests[id].reject(new Error(`Response canceled by responder`));\n            }\n            else {\n                this.pendingRequests[id].fulfill(decode(msg.data));\n            }\n        }\n        else {\n            console.error(`Got response with no matching request. id=${id}`);\n        }\n    }\n    close() {\n        this.socket.close();\n        return this.awaitClose();\n    }\n    awaitClose() {\n        return new Promise((resolve) => this.socket.on(\"close\", resolve));\n    }\n    static connect(url, signalCb) {\n        return new Promise((resolve, reject) => {\n            const socket = new Websocket(url);\n            // make sure that there are no uncaught connection\n            // errors because that causes nodejs thread to crash\n            // with uncaught exception\n            socket.onerror = (e) => {\n                reject(new Error(`could not connect to holochain conductor, please check that a conductor service is running and available at ${url}`));\n            };\n            socket.onopen = () => {\n                resolve(new WsClient(socket, signalCb));\n            };\n        });\n    }\n}\nconst signalTransform = (res) => {\n    return decode(res);\n};\n//# sourceMappingURL=client.js.map","const ERROR_TYPE = 'error';\nexport const DEFAULT_TIMEOUT = 15000;\nexport const catchError = (res) => {\n    return res.type === ERROR_TYPE\n        ? Promise.reject(res)\n        : Promise.resolve(res);\n};\nexport const promiseTimeout = (promise, tag, ms) => {\n    let id;\n    let timeout = new Promise((resolve, reject) => {\n        id = setTimeout(() => {\n            clearTimeout(id);\n            reject(new Error(`Timed out in ${ms}ms: ${tag}`));\n        }, ms);\n    });\n    return new Promise((res, rej) => {\n        Promise.race([\n            promise,\n            timeout\n        ]).then((a) => {\n            clearTimeout(id);\n            return res(a);\n        })\n            .catch(e => {\n            return rej(e);\n        });\n    });\n};\n//# sourceMappingURL=common.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * Take a Requester function which deals with tagged requests and responses,\n * and return a Requester which deals only with the inner data types, also\n * with the optional Transformer applied to further modify the input and output.\n */\nexport const requesterTransformer = (requester, tag, transform = identityTransformer) => ((req, timeout) => __awaiter(void 0, void 0, void 0, function* () {\n    const input = { type: tag, data: transform.input(req) };\n    const response = yield requester(input, timeout);\n    const output = transform.output(response.data);\n    return output;\n}));\nconst identity = x => x;\nconst identityTransformer = {\n    input: identity,\n    output: identity,\n};\n//# sourceMappingURL=common.js.map","var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n}({}));\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport fetch from \"cross-fetch\";\n// This is coupled with https://github.com/holochain/launcher/blob/develop/src-tauri/src/uis/caddy.rs#L13\nexport const LAUNCHER_ENV_URL = \"/.launcher-env.json\";\nfunction fetchLauncherEnvironment() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const env = yield fetch(LAUNCHER_ENV_URL);\n        if (env.ok) {\n            const launcherEnvironment = yield env.json();\n            return launcherEnvironment;\n        }\n        else {\n            // We are not in the launcher environment\n            if (env.status === 404) {\n                console.warn(\"[@holochain/conductor-api]: you are in a development environment. When this UI is run in the Holochain Launcher, `AppWebsocket.connect()`, `AdminWebsocket.connect()` and `appWebsocket.appInfo()` will have their parameters ignored and substituted by the ones provided by the Holochain Launcher.\");\n                return undefined;\n            }\n            else {\n                throw new Error(`Error trying to fetch the launcher environment: ${env.statusText}`);\n            }\n        }\n    });\n}\nconst isBrowser = typeof window !== \"undefined\";\nlet promise;\nif (isBrowser) {\n    promise = fetchLauncherEnvironment().catch(console.error);\n}\nexport function getLauncherEnvironment() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (isBrowser) {\n            return promise;\n        }\n        else {\n            return undefined;\n        }\n    });\n}\n//# sourceMappingURL=launcher.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * Defines AppWebsocket, an easy-to-use websocket implementation of the\n * Conductor API for apps\n *\n *    const client = AppWebsocket.connect(\n *      'ws://localhost:9000',\n *      signal => console.log('got a signal:', signal)\n *    )\n *\n *    client.callZome({...})  // TODO: show what's in here\n *      .then(() => {\n *        console.log('DNA successfully installed')\n *      })\n *      .catch(err => {\n *        console.error('problem installing DNA:', err)\n *      })\n */\nimport { encode, decode } from '@msgpack/msgpack';\nimport { WsClient } from './client';\nimport { catchError, promiseTimeout, DEFAULT_TIMEOUT } from './common';\nimport { requesterTransformer } from '../api/common';\nimport { getLauncherEnvironment } from '../environments/launcher';\nexport class AppWebsocket {\n    constructor(client, defaultTimeout, overrideInstalledAppId) {\n        this.overrideInstalledAppId = overrideInstalledAppId;\n        this._requester = (tag, transformer) => requesterTransformer((req, timeout) => promiseTimeout(this.client.request(req), tag, timeout || this.defaultTimeout).then(catchError), tag, transformer);\n        this.appInfo = this._requester('app_info', appInfoTransform(this.overrideInstalledAppId));\n        this.callZome = this._requester('zome_call_invocation', callZomeTransform);\n        this.client = client;\n        this.defaultTimeout = defaultTimeout === undefined ? DEFAULT_TIMEOUT : defaultTimeout;\n    }\n    static connect(url, defaultTimeout, signalCb) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Check if we are in the launcher's environment, and if so, redirect the url to connect to\n            const env = yield getLauncherEnvironment();\n            if (env) {\n                url = `ws://localhost:${env.APP_INTERFACE_PORT}`;\n            }\n            const wsClient = yield WsClient.connect(url, signalCb);\n            return new AppWebsocket(wsClient, defaultTimeout, env ? env.INSTALLED_APP_ID : undefined);\n        });\n    }\n}\nconst callZomeTransform = {\n    input: (req) => {\n        return Object.assign(Object.assign({}, req), { payload: encode(req.payload) });\n    },\n    output: (res) => {\n        return decode(res);\n    }\n};\nconst appInfoTransform = (overrideInstalledAppId) => ({\n    input: (req) => {\n        if (overrideInstalledAppId) {\n            return {\n                installed_app_id: overrideInstalledAppId\n            };\n        }\n        return req;\n    },\n    output: (res) => {\n        return res;\n    }\n});\n//# sourceMappingURL=app.js.map","import App from './App.svelte';\nimport { AppWebsocket } from '@holochain/conductor-api';\n\nasync function setup() {\n  const appWebsocket = await AppWebsocket.connect(`ws://localhost:${process.env.HC_PORT}`);\n\n  const appInfo = await appWebsocket.appInfo({\n    installed_app_id: 'session3',\n  });\n\n  const cellData = appInfo.cell_data[0];\n\n  const app = new App({\n    target: document.body,\n    props: {\n      name: 'world',\n      appWebsocket,\n      cell_id: cellData.cell_id\n    },\n  });\n}\n\nexport default setup();\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","text","data","createTextNode","space","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","wholeText","current_component","set_current_component","component","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","push","flushing","seen_callbacks","Set","flush","i","length","update","$$","pop","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","make_dirty","then","fill","init","options","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_mount","on_destroy","on_disconnect","context","Map","callbacks","skip_bound","root","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","c","intro","block","delete","local","customElement","m","new_on_destroy","map","filter","mount_component","postHash","appWebsocket","cell_id","callZome","cap","zome_name","fn_name","payload","provenance","hash","$destroy","detaching","d","destroy_component","this","$on","type","index","indexOf","splice","$set","$$props","obj","$$set","keys","AppStatusFilter","ws","WebSocket","MozWebSocket","global","window","self","TEXT_ENCODING_AVAILABLE","process","env","TEXT_ENCODING","TextEncoder","TextDecoder","STR_SIZE_MAX","utf8Count","str","strLength","byteLength","pos","charCodeAt","extra","sharedTextEncoder","undefined","TEXT_ENCODER_THRESHOLD","utf8EncodeTE","encodeInto","output","outputOffset","subarray","set","encode","utf8DecodeJs","bytes","inputOffset","offset","end","units","result","byte1","byte2","byte3","unit","String","fromCharCode","apply","sharedTextDecoder","TEXT_DECODER_THRESHOLD","TEXT_DECODER","ExtData","setInt64","view","high","Math","floor","low","setUint32","getInt64","getInt32","getUint32","timestampExtension","object","msec","sec","nsec","nsecInSec","Date","_a","rv","Uint8Array","DataView","buffer","secHigh","secLow","encodeTimeSpecToTimestamp","getTime","decode","timeSpec","byteOffset","nsec30AndSecHigh2","Error","decodeTimestampToTimeSpec","ExtensionCodec","builtInEncoders","builtInDecoders","encoders","decoders","register","prototype","tryToEncode","encodeExt","decodeExt","defaultCodec","ensureUint8Array","ArrayBuffer","isView","Encoder","extensionCodec","maxDepth","initialBufferSize","sortKeys","forceFloat32","ignoreUndefined","forceIntegerToFloat","getUint8Array","reinitializeState","doEncode","depth","encodeNil","encodeBoolean","encodeNumber","encodeString","encodeObject","ensureBufferSizeToWrite","sizeToWrite","requiredSize","resizeBuffer","newSize","newBuffer","newBytes","newView","writeU8","Number","isSafeInteger","writeU16","writeU32","writeU64","writeI8","writeI16","writeI32","writeI64","writeF32","writeF64","writeStringHeader","utf8EncodeJs","ext","encodeExtension","isArray","encodeArray","encodeBinary","toString","encodeMap","size","writeU8a","_i","object_1","item","countWithoutUndefined","count","keys_1","sort","keys_2","key","setUint8","values","setInt8","setUint16","setInt16","setInt32","setFloat32","setFloat64","setUint64","defaultEncodeOptions","prettyByte","byte","abs","padStart","CachedKeyDecoder","maxKeyLength","maxLengthPerKey","hit","miss","caches","canBeCached","get","FIND_CHUNK","records_1","record","recordBytes","j","store","records","random","cachedValue","slicedCopyOfBytes","slice","call","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","step","next","e","rejected","done","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","TypeError","__asyncValues","o","asyncIterator","__values","settle","__await","__asyncGenerator","q","resume","r","fulfill","shift","EMPTY_VIEW","EMPTY_BYTES","DataViewIndexOutOfBoundsError","getInt8","constructor","MORE_DATA","DEFAULT_MAX_LENGTH","sharedCachedKeyDecoder","Decoder","maxStrLength","maxBinLength","maxArrayLength","maxMapLength","maxExtLength","keyDecoder","totalPos","headByte","stack","setBuffer","bufferView","createDataView","appendBuffer","hasRemaining","remainingData","newData","concated","createExtraByteError","posToShow","RangeError","doDecodeSync","decodeMulti","decodeAsync","stream","stream_1","stream_1_1","e_1","decoded","e_1_1","_b","_c","error","decodeArrayStream","decodeMultiAsync","decodeStream","arguments","isArrayHeaderRequired","arrayItemsLeft","stream_2","stream_2_1","e_2","e_3_1","e_3","readArraySize","complete","DECODE","readHeadByte","pushMapState","pushArrayState","decodeUtf8String","readF32","readF64","readU8","readU16","readU32","readU64","readI8","readI16","readI32","readI64","lookU8","lookU16","lookU32","decodeBinary","decodeExtension","state","array","position","keyType","readCount","headerOffset","stateIsMapKey","stringBytes","utf8DecodeTD","headOffset","extType","getUint8","getUint16","getInt16","getFloat32","getFloat64","defaultDecodeOptions","WsClient","socket","signalCb","pendingRequests","alreadyWarnedNoSignalCb","onmessage","encodedMsg","Buffer","isBuffer","arrayBuffer","msg","decodedMessage","decodedCellId","App","decodedPayload","signalTransform","signal","cellId","console","log","handleResponse","emitSignal","send","request","id","promise","readyState","OPEN","close","awaitClose","on","static","url","Websocket","onerror","onopen","res","catchError","identity","x","identityTransformer","input","__self__","F","fetch","DOMException","exports","support","Blob","viewClasses","isArrayBufferView","normalizeName","test","toLowerCase","normalizeValue","iteratorFor","items","Headers","headers","header","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","onload","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","bufferClone","buf","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","readAsText","readBlobAsText","chars","join","readArrayBufferAsText","formData","json","JSON","parse","oldValue","hasOwnProperty","entries","methods","Request","method","upcased","credentials","mode","toUpperCase","referrer","form","trim","split","replace","decodeURIComponent","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","location","err","message","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","removeEventListener","polyfill","defineProperty","ponyfill","module","isBrowser","warn","fetchLauncherEnvironment","catch","AppWebsocket","client","defaultTimeout","overrideInstalledAppId","_requester","tag","transformer","requester","transform","req","timeout","requesterTransformer","ms","setTimeout","clearTimeout","rej","race","promiseTimeout","appInfo","appInfoTransform","callZomeTransform","getLauncherEnvironment","APP_INTERFACE_PORT","wsClient","connect","INSTALLED_APP_ID","assign","installed_app_id","async","cellData","cell_data","setup"],"mappings":"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"}